# 인터럽트

#### 정의
<br>

프로그램을 실행하는 도중 예기치 않은 상황이 발생할 경우 현재 실행중인 작업을 일시 중단하고, 발생된 상황을 우선 처리 한 후에 실행중이던 작업으로 복귀하여 계속 처리하는 것

<br>
내부 인터럽트는 명령어 수행에 의해 발생
<br>
외부 인터럽트는 하드웨어 신호에 의해 발생

<br>

#### 외부 인터럽트의 종류
- 타이머 인터럽트 <br>
타이머라는 입출력 장치가 있다. <br>
정해진 CPU의 점유 시간 후에 인터럽트 신호를 보내서 CPU를 점유하고 있는 프로세스를 바꾼다.

- I/O 인터럽트 <br>
입출력 장치(마우스, 키보드, 모니터, 디스크, 메인 메모리 등)에 의해서 일어나는 인터럽트

- 전원 이상 인터럽트
컴퓨터를 하고 있다가 전원 공급이 중단되면 CPU에 인터럽트를 걸어서 현재 작업중이던 프로세스를 대피시킬 수 있도록 하는 인터럽트


#### 내부 인터럽트의 종류
- Exception (예외) (Trap) <br>
CPU가 명령어를 수행하다가 처리할 수 없는 예외 상황을 만나면 자기 자신을 인터럽트 걸어서 커널의 처리 루틴으로 이동
- SVC 인터럽트 <br>
운영체제를 호출해서 처리하라는 의미의 Supervisor Call <br>
운영체제의 서비스를 요청하기 위해서 인터럽트를 걸고 커널 모드로 전환하는 인터럽트

#### 컨트롤러
하드웨어 장치마다 붙어있는 작은 CPU

#### 로컬 버퍼
장치로부터 들어오고 나가는 데이터를 임시로 저장하기 위해 장치마다 달려있는 작은 메모리

#### 인터럽트 벡터
인터럽트 종류마다 번호를 정해서 번호에 따라 처리해야할 코드가 위치한 부분을 가리키고 있는 자료구조

#### 인터럽트 처리 루틴 (ISR : Interrupt Service Routine) OR 인터럽트 핸들러(Interrupt Handler)

인터럽트에 대해 처리해야할 업무들을 미리 정의해 놓은 코드

<br>

#### 실행 흐름
1. 인터럽트가 발생
2. CPU가 처리하던 프로세스 중단
3. 현재 실행중인 프로세스 상태 PCB에 저장
4. 인터럽트 원인 판별
5. 인터럽트 벡터를 활용하여 인터럽트 처리 루틴 위치 검색
6. 인터럽트 처리 루틴 처리 후 상태 복구
7. PCB에서 정보 가져오기
8. 명령어 수행

<br>
<br>
reference
<br>
https://baebalja.tistory.com/354